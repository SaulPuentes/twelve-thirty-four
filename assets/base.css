/**
 * Base CSS
 * Essential styles for twelve-thirty-four theme components
 */

* {
  box-sizing: border-box;
}

body {
  color: var(--color-foreground);
  background: var(--color-background);
  display: flex;
  flex-direction: column;
  margin: 0;
  min-height: 100svh;
}

/* Utility classes */
.hidden {
  display: none !important;
}

.list-unstyled {
  margin: 0;
  padding: 0;
  list-style: none;
}
.visually-hidden:not(:focus, :active) {
  position: absolute !important;
  overflow: hidden;
  width: 1px;
  height: 1px;
  margin: -1px;
  padding: 0;
  border: 0;
  clip: rect(0 0 0 0);
  word-wrap: normal !important;
}

@media screen and (max-width: 749px) {
  .mobile\:hidden {
    display: none !important;
  }
}

@media screen and (min-width: 750px) {
  .desktop\:hidden {
    display: none !important;
  }
}

/* Dialog styles */
dialog {
  --backdrop-color-rgb: var(--color-shadow-rgb, 0 0 0);
  background-color: var(--color-background);
  color: var(--color-foreground);
}

.dialog-modal {
  border: none;
  box-shadow: var(--shadow-popover);
}

@media screen and (min-width: 750px) {
  .dialog-modal {
    border-radius: var(--style-border-radius-popover);
    max-width: var(--normal-content-width, 42rem);
  }
}

@media screen and (max-width: 749px) {
  .dialog-modal {
    max-width: 100%;
    max-height: 100%;
    height: 100dvh;
    width: 100dvw;
    padding: var(--padding-md);
  }
}

.dialog-modal::backdrop {
  transition: backdrop-filter var(--animation-speed) var(--animation-easing);
  backdrop-filter: brightness(1);
  background: rgb(var(--backdrop-color-rgb) / var(--backdrop-opacity, 0.15));
}

.dialog-modal[open] {
  animation: elementSlideInTop var(--animation-speed) var(--animation-easing) forwards;
}

.dialog-modal[open]::backdrop {
  animation: backdropFilter var(--animation-speed) var(--animation-easing) forwards;
  transition: opacity var(--animation-speed) var(--animation-easing);
}

.dialog-modal.dialog-closing {
  animation: elementSlideOutTop var(--animation-speed) var(--animation-easing) forwards;
}

.dialog-modal.dialog-closing::backdrop {
  opacity: 0;
}

/* Dialog drawer styles */
.dialog-drawer {
  --dialog-drawer-opening-animation: move-and-fade;
  --dialog-drawer-closing-animation: move-and-fade;
}

.dialog-drawer[open] {
  --start-x: var(--custom-transform-from, 100%);
  --end-x: var(--custom-transform-to, 0px);
  --start-opacity: 1;
  animation: var(--dialog-drawer-opening-animation) var(--animation-speed) var(--animation-easing) forwards;
}

.dialog-drawer[open].dialog-closing {
  --start-x: 0px;
  --end-x: 100%;
  --start-opacity: 1;
  --end-opacity: 1;
  animation: var(--dialog-drawer-closing-animation) var(--animation-speed) var(--animation-easing);
}

/* SVG wrapper */
.svg-wrapper {
  color: currentcolor;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  width: var(--icon-size-sm);
  height: var(--icon-size-sm);
  pointer-events: none;
}

.svg-wrapper > svg {
  width: var(--icon-size-sm);
  height: var(--icon-size-sm);
}

/* Button styles */
.button,
.button-secondary {
  display: grid;
  align-content: center;
  text-decoration: none;
  text-align: center;
  color: var(--button-color, var(--color-primary-button-text));
  appearance: none;
  background-color: var(--button-background-color, var(--color-primary-button-background));
  border: none;
  font-family: var(--font-body-family);
  margin-block: 0;
  transition: color var(--animation-speed) var(--animation-easing),
    box-shadow var(--animation-speed) var(--animation-easing),
    background-color var(--animation-speed) var(--animation-easing);
  cursor: pointer;
  width: fit-content;
  box-shadow: inset 0 0 0 var(--button-border-width, 0) var(--button-border-color, transparent);
  padding-block: var(--button-padding-block);
  padding-inline: var(--button-padding-inline);
  border-radius: var(--style-border-radius-buttons-primary);
}

.button:hover {
  --button-color: var(--color-primary-button-hover-text);
  --button-background-color: var(--color-primary-button-hover-background);
  --button-border-color: var(--color-primary-button-hover-border);
}

.button-unstyled {
  display: block;
  padding: 0;
  background-color: inherit;
  color: inherit;
  border: 0;
  border-radius: 0;
  overflow: hidden;
  box-shadow: none;
  font-family: var(--font-body-family);
}

.button-unstyled:hover {
  background-color: inherit;
}

/* Close button */
.close-button {
  position: fixed;
  top: var(--margin-lg);
  right: var(--margin-lg);
  width: var(--minimum-touch-target);
  height: var(--minimum-touch-target);
  z-index: var(--layer-flat);
  background-color: transparent;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
}

.close-button:hover {
  background-color: transparent;
  opacity: 0.8;
}

.close-button svg {
  width: var(--icon-size-xs);
  height: var(--icon-size-xs);
}

/* Cart bubble */
.cart-bubble {
  --cart-padding: 0.2em;
  position: relative;
  width: 20px;
  aspect-ratio: 1;
  border-radius: 50%;
  border-width: 0;
  display: flex;
  line-height: normal;
  align-items: center;
  justify-content: center;
  color: var(--color-primary-button-text);
  padding-inline: var(--cart-padding);
}

.cart-bubble__background {
  position: absolute;
  inset: 0;
  background-color: var(--color-primary-button-background);
  border-radius: var(--style-border-radius-lg);
}

.cart-bubble__text {
  font-size: var(--font-size--3xs);
  z-index: var(--layer-flat);
  line-height: 1;
  display: flex;
  align-items: center;
  justify-content: center;
}


/* Quantity selector */
.quantity-selector {
  --quantity-selector-width: 124px;

  display: flex;
  justify-content: space-between;
  align-items: center;
  color: var(--color-input-text);
  background-color: var(--color-input-background);
  border: var(--style-border-width-inputs) solid var(--color-input-border);
  border-radius: var(--style-border-radius-inputs);
  flex: 1 1 var(--quantity-selector-width);
  align-self: stretch;
  transition: background-color var(--animation-speed) var(--animation-easing);

  &:hover {
    background-color: var(--color-input-hover-background);
  }
}

.product-form-buttons:has(.add-to-cart-button.button-secondary) .quantity-selector {
  border-radius: var(--style-border-radius-buttons-secondary);
}

.quantity-selector :is(.quantity-minus, .quantity-plus) {
  /* Unset button styles */
  padding: 0;
  background: transparent;
  box-shadow: none;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  width: var(--minimum-touch-target);
  height: var(--minimum-touch-target);
  flex-shrink: 0;
  color: var(--color-input-text);
}

.quantity-selector .quantity-minus {
  border-start-start-radius: var(--style-border-radius-inputs);
  border-end-start-radius: var(--style-border-radius-inputs);
}

.quantity-selector .quantity-plus {
  border-start-end-radius: var(--style-border-radius-inputs);
  border-end-end-radius: var(--style-border-radius-inputs);
}

.product-details .quantity-selector {
  border-radius: var(--style-border-radius-buttons-primary);
}

.product-details .quantity-selector .quantity-minus {
  border-start-start-radius: var(--style-border-radius-buttons-primary);
  border-end-start-radius: var(--style-border-radius-buttons-primary);
}

.product-details .quantity-selector .quantity-plus {
  border-start-end-radius: var(--style-border-radius-buttons-primary);
  border-end-end-radius: var(--style-border-radius-buttons-primary);
}

.quantity-selector .svg-wrapper {
  transition: transform var(--animation-speed) var(--animation-easing);
}

.quantity-selector svg {
  width: var(--icon-size-xs);
  height: var(--icon-size-xs);
}

:is(.quantity-minus, .quantity-plus):active .svg-wrapper {
  transform: scale(0.9);
}

.quantity-selector input[type='number'] {
  margin: 0;
  text-align: center;
  border: none;
  appearance: none;
  max-width: calc(var(--quantity-selector-width) - var(--minimum-touch-target) * 2);
  border-radius: var(--style-border-radius-buttons);
  color: var(--color-input-text);
  background-color: transparent;
}

/* Chrome, Safari, Edge, Opera */
.quantity-selector input[type='number']::-webkit-inner-spin-button,
.quantity-selector input[type='number']::-webkit-outer-spin-button {
  appearance: none;
}

/* Firefox */
.quantity-selector input[type='number'] {
  appearance: textfield;
}

/* Pills (used in facets and predictive search) */

.pills__pill {
  --pills-pill-background-color: rgb(var(--color-foreground-rgb) / var(--opacity-5-15));

  color: var(--color-foreground);
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: var(--gap-sm);
  min-width: 48px;
  padding: 6px 12px;
  border-radius: var(--style-border-radius-pills);
  cursor: pointer;
  background-color: var(--pills-pill-background-color);
  transition: background-color var(--animation-speed) var(--animation-easing);

  &:hover {
    --pills-pill-background-color: rgb(var(--color-foreground-rgb) / var(--opacity-10-25));
  }

  @media screen and (max-width: 749px) {
    padding: var(--padding-xs) var(--padding-md);
  }
}

.pills__pill > .svg-wrapper {
  --close-icon-opacity: 0.4;
  --icon-stroke-width: 1px;

  color: var(--color-foreground);
}

.pills__pill--swatch {
  @media screen and (max-width: 749px) {
    padding-inline-start: var(--padding-sm);
  }
}

.pills__pill--swatch .swatch {
  margin-right: -4px;
}

.pills__pill--desktop-small {
  @media screen and (min-width: 750px) {
    font-size: var(--font-size--xs);
  }
}

/* Animations */
@keyframes grow {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.2);
  }
  100% {
    transform: scale(1);
  }
}

@keyframes move-and-fade {
  from {
    transform: translate(var(--start-x, 0), var(--start-y, 0));
    opacity: var(--start-opacity, 0);
  }
  to {
    transform: translate(var(--end-x, 0), var(--end-y, 0));
    opacity: var(--end-opacity, 1);
  }
}

@keyframes elementSlideInTop {
  from {
    margin-top: var(--padding-sm);
    opacity: 0;
  }
  to {
    margin-top: 0;
    opacity: 1;
  }
}

@keyframes elementSlideOutTop {
  from {
    transform: translateY(0);
    opacity: 1;
  }
  to {
    transform: translateY(var(--padding-sm));
    opacity: 0;
  }
}

@keyframes backdropFilter {
  from {
    backdrop-filter: brightness(1);
  }
  to {
    backdrop-filter: brightness(0.75);
  }
}

/* Focus styles */
*:focus-visible {
  outline: var(--focus-outline-width, 2px) solid currentcolor;
  outline-offset: var(--focus-outline-offset, 0.2em);
}

/* Images */
img,
picture,
video,
canvas,
svg {
  display: block;
  max-width: 100%;
}

img {
  width: 100%;
  height: auto;
}

/* Scroll lock */
html[scroll-lock] {
  overflow: hidden;
}

body.overflow-hidden {
  overflow: hidden;
}

/* H4 styling for cart drawer */
.h4 {
  font-family: var(--font-heading-family);
  font-size: var(--font-size-h4, 1.25rem);
  font-weight: var(--font-heading-weight);
  margin: 0;
}

/* Skip to content */
.skip-to-content-link {
  position: absolute;
  overflow: hidden;
  height: 1px;
  left: -99999px;
  word-wrap: normal !important;
}

.skip-to-content-link:focus {
  z-index: var(--layer-temporary);
  overflow: auto;
  width: auto;
  height: auto;
  padding: var(--padding-lg) var(--padding-4xl);
  left: var(--margin-lg);
  top: var(--margin-lg);
  background-color: var(--color-background);
  box-shadow: 0 0 0 var(--focus-outline-offset, 0.2em) var(--color-background);
}

/* Fly to cart animation */
fly-to-cart {
  --offset-y: 10px;

  position: fixed;
  width: var(--width, 40px);
  height: var(--height, 40px);
  left: 0;
  top: 0;
  z-index: 9999;
  pointer-events: none;
  border-radius: var(--style-border-radius-buttons-primary, 0);
  overflow: hidden;
  object-fit: cover;
  background-size: cover;
  background-position: center;
  opacity: 0;
  background-color: var(--color-foreground);
  translate: var(--start-x, 0) var(--start-y, 0);
  transform: translate(-50%, -50%);
  animation-name: travel-x, travel-y, travel-scale;
  animation-timing-function: var(--x-timing), var(--y-timing), var(--scale-timing);
  animation-duration: 0.6s;
  animation-composition: accumulate;
  animation-fill-mode: both;
}

fly-to-cart.fly-to-cart--main {
  --x-timing: cubic-bezier(0.7, -5, 0.98, 0.5);
  --y-timing: cubic-bezier(0.15, 0.57, 0.9, 1.05);
  --scale-timing: cubic-bezier(0.85, 0.05, 0.96, 1);
}

fly-to-cart.fly-to-cart--quick {
  --x-timing: cubic-bezier(0, -0.1, 1, 0.32);
  --y-timing: cubic-bezier(0, 0.92, 0.92, 1.04);
  --scale-timing: cubic-bezier(0.86, 0.08, 0.98, 0.98);

  animation-duration: 0.6s;
}

fly-to-cart.fly-to-cart--sticky {
  --x-timing: cubic-bezier(0.98, -0.8, 0.92, 0.5);
  --y-timing: cubic-bezier(0.14, 0.56, 0.92, 1.04);
  --scale-timing: cubic-bezier(0.86, 0.08, 0.98, 0.98);
  --radius: var(--style-border-radius-buttons-primary);

  animation-duration: 0.8s;
}

@media (max-width: 749px) {
  fly-to-cart.fly-to-cart--sticky {
    --x-timing: cubic-bezier(0.98, -0.1, 0.92, 0.5);
  }
}

@keyframes travel-scale {
  0% {
    opacity: var(--start-opacity, 1);
  }

  5% {
    opacity: 1;
  }

  100% {
    border-radius: 50%;
    opacity: 1;
    transform: translate(-50%, calc(-50% + var(--offset-y))) scale(0.25);
  }
}

@keyframes travel-x {
  to {
    translate: var(--travel-x, 0) 0;
  }
}

@keyframes travel-y {
  to {
    translate: 0 var(--travel-y, 0);
  }
}

.quantity-selector__input,
.quantity-selector__button {
  border: none;
  background-color: transparent;
}

/* ============================================
   Cart Drawer Styles
   ============================================ */

.cart-drawer {
  position: fixed;
  inset: 0;
  z-index: 300;
  opacity: 0;
  visibility: hidden;
  transition: opacity var(--animation-speed, 0.3s) ease,
              visibility var(--animation-speed, 0.3s) ease;
}

.cart-drawer[aria-hidden="false"] {
  opacity: 1;
  visibility: visible;
}

.cart-drawer__overlay {
  position: absolute;
  inset: 0;
  background-color: rgba(0, 0, 0, 0.5);
  cursor: pointer;
}

.cart-drawer__content {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  max-width: 420px;
  background-color: var(--color-background, #fff);
  transform: translateX(100%);
  transition: transform var(--animation-speed, 0.3s) ease;
  display: flex;
  flex-direction: column;
}

.cart-drawer[aria-hidden="false"] .cart-drawer__content {
  transform: translateX(0);
}

.cart-drawer__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1.5rem;
  border-bottom: 1px solid var(--color-border, #ddd);
}

.cart-drawer__title {
  margin: 0;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.cart-drawer__count {
  font-weight: 400;
  opacity: 0.7;
}

.cart-drawer__close {
  display: flex;
  align-items: center;
  justify-content: center;
  background: none;
  border: none;
  padding: 0;
  cursor: pointer;
  color: var(--color-foreground);
}

.cart-drawer__body {
  flex: 1;
  overflow-y: auto;
  padding: 1.5rem;
}

.cart-drawer__empty {
  text-align: center;
  padding: 3rem 0;
}

.cart-drawer__empty p {
  margin-bottom: 1.5rem;
  opacity: 0.7;
}

.cart-drawer__items {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.cart-drawer__item {
  display: grid;
  grid-template-columns: 75px 1fr auto;
  gap: 1rem;
  padding-bottom: 1.5rem;
  border-bottom: 1px solid var(--color-border, #ddd);
  transition: opacity 0.3s ease, max-height 0.3s ease, margin-bottom 0.3s ease;
  overflow: hidden;
}

.cart-drawer__item.removing {
  opacity: 0;
  max-height: 0 !important;
  padding-bottom: 0;
  margin-bottom: 0;
  border-color: transparent;
}

.cart-drawer__item:last-child {
  border-bottom: none;
  padding-bottom: 0;
}

.cart-drawer__item-media img {
  width: 100%;
  height: auto;
}

.cart-drawer__item-details {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.cart-drawer__item-name {
  font-size: 0.875rem;
  font-weight: 500;
  text-decoration: none;
  color: var(--color-foreground);
}

.cart-drawer__item-name:hover {
  text-decoration: underline;
}

.cart-drawer__item-variant {
  font-size: 0.75rem;
  opacity: 0.7;
  margin: 0;
}

.cart-drawer__item-price {
  font-size: 0.875rem;
  margin: 0;
}

.cart-drawer__item-actions {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  margin-top: 0.5rem;
}

.cart-drawer__item-remove {
  --icon-stroke-width: 1.5;

  display: flex;
  align-items: center;
  justify-content: center;
  background: none;
  border: none;
  padding: 0.25rem;
  cursor: pointer;
  opacity: 0.6;
  color: var(--color-foreground, #111);
  flex-shrink: 0;
  transition: opacity 0.2s ease;
}

.cart-drawer__item-remove:hover {
  opacity: 1;
}

.cart-drawer__item-remove .icon {
  width: 20px;
  height: 20px;
}

/* Remove button animation */
.cart-drawer__item-remove .remove-icon-bottom,
.cart-drawer__item-remove .remove-icon-top {
  transition: transform 0.2s ease;
}

.cart-drawer__item-remove:hover .remove-icon-top {
  transform: translate(-1px, 1px) rotate(-15deg);
}

.cart-drawer__item-remove:hover .remove-icon-bottom,
.cart-drawer__item-remove:active .remove-icon-bottom {
  transform: translateY(1px);
}

.cart-drawer__item.removing {
  overflow: hidden;
  animation: removeItemAnimation 0.4s ease forwards;
}

.cart-drawer__item.removing .remove-icon-bottom {
  transform: translateY(0);
}

.cart-drawer__item.removing .remove-icon-top {
  animation: removeButtonClickedIconTop 0.2s ease forwards;
}

@keyframes removeButtonClickedIconTop {
  50% {
    transform: translate(0, -1px);
  }
  100% {
    transform: translate(0, 0);
  }
}

@keyframes removeItemAnimation {
  0% {
    opacity: 1;
    height: auto;
    margin-bottom: 1.5rem;
    padding-bottom: 1.5rem;
  }
  100% {
    opacity: 0;
    height: 0;
    margin-bottom: 0;
    padding-bottom: 0;
    border-bottom: none;
  }
}

.cart-drawer__item-total {
  font-size: 0.875rem;
  font-weight: 500;
  text-align: right;
}

/* Cart Drawer Quantity Selector */
.cart-drawer .quantity-selector {
  --quantity-selector-width: 120px;
  --icon-stroke-width: 1.5;

  display: flex;
  justify-content: space-between;
  align-items: center;
  color: var(--color-foreground, #111);
  background-color: var(--color-background, #fff);
  border: 1px solid var(--color-border, #ddd);
  border-radius: 4px;
  flex: 0 0 var(--quantity-selector-width);
  height: 36px;
  transition: background-color 0.2s ease;
}

.cart-drawer .quantity-selector:hover {
  background-color: var(--color-background-secondary, #f5f5f5);
}

.cart-drawer .quantity-minus {
  border-start-start-radius: 4px;
  border-end-start-radius: 4px;
}

.cart-drawer .quantity-plus {
  border-start-end-radius: 4px;
  border-end-end-radius: 4px;
}

.cart-drawer .quantity-selector .svg-wrapper {
  transition: transform 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
}

.cart-drawer .quantity-selector svg {
  width: 14px;
  height: 14px;
}

.cart-drawer .quantity-selector__button:active .svg-wrapper {
  transform: scale(0.9);
}

.cart-drawer .quantity-selector__input {
  font-size: 0.875rem;
  width: 100%;
  padding: 0;
  text-align: center;
}

/* Chrome, Safari, Edge, Opera */
.cart-drawer .quantity-selector__input::-webkit-inner-spin-button,
.cart-drawer .quantity-selector__input::-webkit-outer-spin-button {
  -webkit-appearance: none;
  appearance: none;
  margin: 0;
}

/* Firefox */
.cart-drawer .quantity-selector__input {
  -moz-appearance: textfield;
  appearance: textfield;
}

.cart-drawer__footer {
  padding: 1.5rem;
  border-top: 1px solid var(--color-border, #ddd);
  background-color: var(--color-background, #fff);
}

.cart-drawer__discounts {
  margin-bottom: 0.75rem;
}

.cart-drawer__discount {
  display: flex;
  justify-content: space-between;
  font-size: 0.875rem;
  color: var(--color-success, #2e7d32);
}

.cart-drawer__subtotal {
  display: flex;
  justify-content: space-between;
  font-size: 1rem;
  font-weight: 500;
  margin-bottom: 0.5rem;
}

.cart-drawer__taxes {
  font-size: 0.75rem;
  opacity: 0.7;
  margin-bottom: 1rem;
}

.cart-drawer__actions {
  display: flex;
  flex-direction: column;
}

.cart-drawer__actions .button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  padding: 0.875rem 1.5rem;
  font-family: var(--font-body-family);
  font-size: 0.875rem;
  font-weight: 500;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  text-decoration: none;
  cursor: pointer;
  transition: all 0.2s ease;
  background-color: var(--color-foreground, #111);
  color: var(--color-background, #fff);
  border: 1px solid var(--color-foreground, #111);
}

.cart-drawer__actions .button:hover {
  background-color: transparent;
  color: var(--color-foreground, #111);
}

/* ============================================
   Product Card Styles
   ============================================ */

.product-card {
  position: relative;
  display: block;
  height: auto;
}

.product-card__link {
  display: block;
  text-decoration: none;
  color: inherit;
}

.product-card__media {
  position: relative;
  aspect-ratio: 3 / 4;
  overflow: hidden;
  background-color: var(--color-background-secondary, #f5f5f5);
  margin-bottom: 1rem;
}

.product-card__image {
  display: block;
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.5s ease;
}

.product-card:hover .product-card__image {
  transform: scale(1.05);
}

.product-card__placeholder {
  display: block;
  width: 100%;
  height: 100%;
  object-fit: cover;
  fill: #ccc;
  background-color: #f0f0f0;
}

.product-card__info {
  padding: 0;
}

.product-card__title {
  font-family: var(--font-body-family);
  font-size: 0.875rem;
  font-weight: 400;
  line-height: 1.4;
  margin: 0 0 0.25rem;
  color: var(--color-foreground);
  transition: opacity 0.3s ease;
}

.product-card__link:hover .product-card__title {
  opacity: 0.7;
}

.product-card__price {
  font-family: var(--font-body-family);
  font-size: 0.875rem;
  color: var(--color-foreground);
  margin: 0 0 0.75rem;
  opacity: 0.7;
}

.product-card__price--compare {
  text-decoration: line-through;
  opacity: 0.5;
  margin-right: 0.5em;
}

.product-card__price--current {
  /* Default styling */
}

/* Add to Cart Button */
.product-card__add-to-cart {
  display: inline-block;
  width: auto;
  padding: 0.625rem 1.25rem;
  font-family: var(--font-body-family);
  font-size: 0.75rem;
  font-weight: 500;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  color: var(--color-foreground, #111);
  background-color: var(--color-background, #fff);
  border: 1px solid var(--color-border, lightgray);
  cursor: pointer;
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
  position: relative;
  min-width: 120px;
  text-align: center;
}

.product-card__add-to-cart:hover:not(:disabled) {
  background-color: var(--color-foreground, #111);
  color: var(--color-background, #fff);
  border-color: var(--color-foreground, #111);
}

.product-card__add-to-cart:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Button text states */
.product-card__add-to-cart-text {
  display: inline-block;
  transition: opacity 0.2s ease;
}

.product-card__add-to-cart-text--adding,
.product-card__add-to-cart-text--added {
  display: none;
}

/* Adding state */
.product-card__add-to-cart[data-state="adding"] .product-card__add-to-cart-text[data-default-text] {
  display: none;
}

.product-card__add-to-cart[data-state="adding"] .product-card__add-to-cart-text--adding {
  display: inline-block;
}

/* Added state */
.product-card__add-to-cart[data-state="added"] .product-card__add-to-cart-text[data-default-text] {
  display: none;
}

.product-card__add-to-cart[data-state="added"] .product-card__add-to-cart-text--added {
  display: inline-block;
}

.product-card__add-to-cart[data-state="added"] {
  background-color: var(--color-success, #2e7d32);
  border-color: var(--color-success, #2e7d32);
  color: #fff;
}

/* Placeholder card styles */
.product-card--placeholder {
  cursor: default;
}

.product-card--placeholder .product-card__add-to-cart {
  pointer-events: none;
}

/* ============================================
   Product Media Gallery Styles
   ============================================ */

/* Product Media */
media-gallery {
  display: block;
  width: 100%;
}

:where(media-gallery, .product-grid__item) {
  .media-gallery__grid {
    grid-template-columns: 1fr;
    gap: var(--image-gap);
  }
}

.product-media-gallery__slideshow--single-media slideshow-container {
  @media screen and (max-width: 749px) {
    grid-area: unset;
  }
}

:not(.dialog-zoomed-gallery) > .product-media-container {
  /* width and overflow forces children to shrink to parent width */
  --slide-width: round(up, 100%, 1px);

  display: flex;
  aspect-ratio: var(--gallery-aspect-ratio, var(--media-preview-ratio));
  max-height: var(--constrained-height);
  width: 100%;

  /* Relative position needed for video and 3d models */
  position: relative;
  overflow: hidden;

  &:where(.constrain-height) {
    /* arbitrary offset value based on average theme spacing and header height */
    --viewport-offset: 400px;
    --constrained-min-height: 300px;
    --constrained-height: max(var(--constrained-min-height), calc(100vh - var(--viewport-offset)));

    margin-right: auto;
    margin-left: auto;
  }
}

media-gallery:where(.media-gallery--grid) .media-gallery__grid {
  display: none;
}

media-gallery.media-gallery--grid .media-gallery__grid .product-media-container {
  /* Needed for safari to stretch to full grid height */
  height: 100%;
}

.product-media :is(deferred-media, product-model) {
  position: absolute;
}

@media screen and (max-width: 749px) {
  .product-media-container.constrain-height {
    max-height: none;
  }
}

@media screen and (min-width: 750px) {
  .product-media-container.constrain-height {
    --viewport-offset: var(--header-height, 100px);
    --constrained-min-height: 500px;
  }

  body:has(header-component[transparent]) .product-media-container.constrain-height {
    --viewport-offset: 0px;
  }

  .media-gallery--two-column .media-gallery__grid {
    grid-template-columns: repeat(2, 1fr);
  }

  .media-gallery--large-first-image .product-media-container:first-child,
  .media-gallery--two-column .product-media-container:only-child {
    /* First child spans 2 columns */
    grid-column: span 2;
  }

  /* Display grid view as a carousel on mobile, grid on desktop */
  media-gallery:is(.media-gallery--grid) slideshow-component {
    display: none;
  }

  media-gallery:where(.media-gallery--grid) .media-gallery__grid {
    display: grid;
  }
}

.product-media-container--model {
  /* Usefull when view in your space is shown */
  flex-direction: column;
}

.shopify-model-viewer-ui__controls-area {
  bottom: calc(var(--minimum-touch-target) + var(--padding-sm));
}

/* ============================================
   Resource List Styles
   ============================================ */

.block-resource-list {
  display: flex;
  flex-direction: column;
  row-gap: var(--gap);
  min-width: 0;
  min-height: 0;
  container-type: inline-size;
  container-name: resource-list;
}

.section-resource-list,
.section-carousel {
  row-gap: var(--gap);
}

.section-resource-list__content {
  display: flex;
  flex-direction: column;
  align-items: var(--horizontal-alignment);
  gap: var(--gap);
  width: 100%;
}

.section-resource-list__content:empty {
  display: none;
}

.section-resource-list__header:is(:empty, :has(.group-block-content:empty)),
.section-resource-list__content:empty {
  display: none;
}

.section-resource-list.section--full-width product-card-link > .group-block,
.section-carousel.section--full-width product-card-link > .group-block {
  @media screen and (max-width: 749px) {
    padding-inline: max(var(--padding-xs), var(--padding-inline-start))
      max(var(--padding-xs), var(--padding-inline-end));
  }
}

.resource-list--carousel-mobile {
  display: block;

  @media screen and (min-width: 750px) {
    display: none;
  }
}

.resource-list {
  --resource-list-mobile-gap-max: 9999px;
  --resource-list-column-gap: min(var(--resource-list-column-gap-desktop), var(--resource-list-mobile-gap-max));
  --resource-list-row-gap: min(var(--resource-list-row-gap-desktop), var(--resource-list-mobile-gap-max));

  width: 100%;

  @media screen and (max-width: 749px) {
    --resource-list-mobile-gap-max: 12px;
  }

  @container resource-list (max-width: 749px) {
    --resource-list-mobile-gap-max: 12px;
  }
}

.resource-list--grid {
  display: grid;
  gap: var(--resource-list-row-gap) var(--resource-list-column-gap);
  grid-template-columns: var(--resource-list-columns-mobile);

  @media screen and (min-width: 750px) {
    grid-template-columns: var(--resource-list-columns);
  }

  @container resource-list (max-width: 449px) {
    grid-template-columns: var(--resource-list-columns-mobile);
  }

  @container resource-list(min-width: 450px) and (max-width: 749px) {
    --resource-list-columns-per-row: 3;

    grid-template-columns: repeat(var(--resource-list-columns-per-row), 1fr);

    /* Avoid orphan in last row when there are 4, 7, or 10 items */
    &:has(.resource-list__item:first-child:nth-last-child(3n + 1)),
    /* Clean two full rows when there are 8 items */
    &:has(.resource-list__item:first-child:nth-last-child(8n)) {
      --resource-list-columns-per-row: 4;
    }
  }

  @container resource-list (min-width: 750px) {
    grid-template-columns: repeat(var(--resource-list-columns-per-row), 1fr);

    &:has(.resource-list__item:first-child:nth-last-child(n + 9)) {
      --resource-list-columns-per-row: 5;
    }

    &:has(.resource-list__item:first-child:nth-last-child(n + 7):nth-last-child(-n + 8)) {
      --resource-list-columns-per-row: 4;
    }

    &:has(.resource-list__item:first-child:nth-last-child(6)) {
      --resource-list-columns-per-row: 3;
    }

    &:has(.resource-list__item:first-child:nth-last-child(5)) {
      --resource-list-columns-per-row: 5;
    }

    &:has(.resource-list__item:first-child:nth-last-child(-n + 4)) {
      --resource-list-columns-per-row: 4;
    }
  }

  @container resource-list (min-width: 1200px) {
    &:has(.resource-list__item:first-child:nth-last-child(6)) {
      --resource-list-columns-per-row: 6;
    }
  }
}

.resource-list__item {
  height: 100%;
  color: var(--color-foreground);
  text-decoration: none;
}

.resource-list__carousel {
  --slide-width: 60vw;

  width: 100%;
  position: relative;
  container-type: inline-size;
  container-name: resource-list-carousel;

  .slideshow-control[disabled] {
    display: none;
  }

  .slideshow-control--next {
    margin-inline-start: auto;
  }
}

@container resource-list-carousel (max-width: 749px) {
  .resource-list__carousel .resource-list__slide {
    --slide-width: clamp(150px, var(--mobile-card-size, 60cqw), var(--slide-width-max));
  }
}

@container resource-list-carousel (min-width: 750px) {
  .resource-list__carousel .resource-list__slide {
    --section-slide-width: calc(
      (100% - (var(--resource-list-column-gap) * (var(--column-count) - 1)) - var(--peek-next-slide-size)) /
        var(--column-count)
    );
    --fallback-slide-width: clamp(150px, var(--mobile-card-size, 60cqw), var(--slide-width-max));
    --slide-width: var(--section-slide-width, var(--fallback-slide-width));
  }
}

.resource-list__carousel slideshow-slides {
  gap: var(--resource-list-column-gap);

  /* Add padding to prevent hover animations from being clipped in slideshow
     15px accommodates:
     - Scale effect (9px on each side from 1.03 scale)
     - Lift effect (4px upward movement)
     - Shadow (15px spread with -5px offset)
     Using 16px for better alignment with our spacing scale */

  margin-block: -16px;
  padding-block: 16px;
}

.resource-list__carousel slideshow-arrows {
  padding-inline: var(--util-page-margin-offset);
}

.resource-list__carousel .resource-list__slide {
  width: var(--slide-width);
  flex: 0 0 auto;
  scroll-snap-align: start;
  min-width: 0;
}